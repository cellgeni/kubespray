apiVersion: contour.heptio.com/v1beta1
kind: IngressRoute
metadata:
  name: heartcellatlas
spec:
  virtualhost:
    fqdn: www.heartcellatlas.org
  routes:
    - match: /
      services:
        - name: heart-cell-atlas
          port: 80
    - match: /static
      services:
        - name: heart-cell-191192
          port: 80          
    - match: /heart-191192
      prefixRewrite: "/" 
      services:
        - name: heart-cell-191192
          port: 80
---
apiVersion: contour.heptio.com/v1beta1
kind: IngressRoute
metadata:
  name: heartcellatlas-backend
spec:
  virtualhost:
    fqdn: heartcellatlas-backend.cellgeni.sanger.ac.uk
  routes:
    - match: /
      services:
        - name: heart-cell-atlas
          port: 80
    - match: /static
      services:
        - name: heart-cell-191192
          port: 80          
    - match: /heart-191192
      prefixRewrite: "/" 
      services:
        - name: heart-cell-191192
          port: 80
---
apiVersion: contour.heptio.com/v1beta1
kind: IngressRoute
metadata:
  name: heartcellatlas-cellgeni
spec:
  virtualhost:
    fqdn: heartcellatlas.cellgeni.sanger.ac.uk
  routes:
    - match: /
      services:
        - name: heart-cell-atlas
          port: 80
    - match: /static
      services:
        - name: heart-cell-191192
          port: 80          
    - match: /heart-191192
      prefixRewrite: "/" 
      services:
        - name: heart-cell-191192
          port: 80
    - match: /female-cmc-191125
      prefixRewrite: "/" 
      services:
        - name: heart-cell-female-cmc-191125
          port: 80
    - match: /male-cmc-191125
      prefixRewrite: "/" 
      services:
        - name: heart-cell-male-cmc-191125
          port: 80
    - match: /fibroblasts-191125
      prefixRewrite: "/" 
      services:
        - name: heart-cell-fibroblasts-191125
          port: 80